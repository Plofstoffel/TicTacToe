var ticTacToe={winner:!1,currentPlayer:"X",clicked:function(n){if($("#boardPlaceholder").val()===""){$("#messageTitle").html("Error");$("#gameResults").text("Game has not started!!");$("#gameModal").modal("toggle");return}if(ticTacToe.winner===!0){$("#messageTitle").html("Error");$("#gameResults").text("Game has Finnished!! Please restart.");$("#gameModal").modal("toggle");return}var t=$("#boardPlaceholder").val();this.play(t,this.currentPlayer,parseInt(n))},nextPlayer:function(){this.currentPlayer=this.currentPlayer==="X"?"O":"X";$("#playingLabel").text("It is "+this.currentPlayer+"'s turn to play.")},clearBoard:function(){$("span").text("");this.startGame()},play:function(n,t,i){var r={gameBoard:n,marker:t==="X"?1:2,position:i};$.ajax({type:"POST",data:JSON.stringify(r),url:"http://localhost:50186/api/TicTacToe/Play",contentType:"application/json; charset=utf-8",dataType:"json",success:function(n){switch(n){case 0:ticTacToe.currentPlayer==="X"?$("."+i).text("X"):$("."+i).text("O");var r=$("#boardPlaceholder").val(),t=JSON.parse(r);t.spaces[i]=ticTacToe.currentPlayer;$("#boardPlaceholder").val(JSON.stringify(t));ticTacToe.nextPlayer();break;case 2:ticTacToe.currentPlayer==="X"?$("."+i).text("X"):$("."+i).text("O");$("#messageTitle").html("Game Over");$("#gameResults").text("Player "+ticTacToe.currentPlayer+" Wins!");$("#gameModal").modal("toggle");ticTacToe.winner=!0;$("#playingLabel").text("Game Over");break;case 3:ticTacToe.currentPlayer==="X"?$("."+i).text("X"):$("."+i).text("O");$("#messageTitle").html("Game Over");$("#gameResults").text("Its a Tie!!");$("#gameModal").modal("toggle");ticTacToe.winner=!0;$("#playingLabel").text("Game Over");break;case 1:default:$("#messageTitle").html("Error");$("#gameResults").text("Invalid move!");$("#gameModal").modal("toggle")}},failure:function(n){console.log(n.responseText);$("#messageTitle").html("Error");$("#gameResults").text(n.responseText);$("#gameModal").modal("toggle")},error:function(n,t,i){console.log(n.status);console.log(i)}})},startGame:function(){$.ajax({type:"POST",url:"http://localhost:50186/api/TicTacToe/StartGame",contentType:"application/json; charset=utf-8",crossDomain:!0,dataType:"text",success:function(n){$("#boardPlaceholder").val(n);console.log("Game Started");this.currentPlayer="X";ticTacToe.winner=!1;$("#playingLabel").text("Game Started! It is "+this.currentPlayer+"'s turn to play.")},failure:function(n){$("#messageTitle").html("Error");$("#gameResults").text(n.responseText);$("#gameModal").modal("toggle");alert(n.responseText)},error:function(n,t,i){console.log(n.status);console.log(i)}})}};